{% extends "base.html" %}

{% block title %}Katalog Mobil - Mahessa Trans{% endblock %}

{% block content %}
<section class="py-5 bg-light" style="margin-top: 80px;">
    <div class="container">
        <h1 class="section-title">Katalog Mobil</h1>
        <p class="section-subtitle">Pilih mobil sesuai kebutuhan Anda</p>
        
        <!-- Filter -->
        <div class="mb-4 text-center">
            <button class="btn btn-primary-custom me-2 mb-2 filter-btn" data-filter="all">
                <i class="fas fa-th"></i> Semua
            </button>
            <button class="btn btn-outline-primary me-2 mb-2 filter-btn" data-filter="City Car">
                <i class="fas fa-car"></i> City Car
            </button>
            <button class="btn btn-outline-primary me-2 mb-2 filter-btn" data-filter="MPV">
                <i class="fas fa-car-side"></i> MPV
            </button>
            <button class="btn btn-outline-primary me-2 mb-2 filter-btn" data-filter="SUV">
                <i class="fas fa-truck-pickup"></i> SUV
            </button>
        </div>
        
        <!-- Katalog Grid -->
        <div class="row g-4" id="katalogMobil">
            {% for mobil in mobil_list %}
            <div class="col-md-6 col-lg-4 col-xl-3 mobil-item" data-kategori="{{ mobil.kategori }}">
                <div class="card h-100">
                    <img src="{{ mobil.foto_url }}" class="card-img-top" alt="{{ mobil.nama }}">
                    <div class="card-body">
                        <span class="badge-custom">{{ mobil.kategori }}</span>
                        <h5 class="card-title mt-2">{{ mobil.nama }}</h5>
                        <p class="text-muted small mb-2">
                            <i class="fas fa-calendar"></i> {{ mobil.tahun }} | 
                            <i class="fas fa-cog"></i> {{ mobil.transmisi }}
                        </p>
                        <p class="text-muted small">
                            <i class="fas fa-users"></i> {{ mobil.kapasitas }} Penumpang
                        </p>
                        <hr>
                        <div class="mb-2">
                            <small class="text-muted">Lepas Kunci</small>
                            <h6 class="text-primary">Rp {{ "{:,}".format(mobil.harga_lepas_kunci_12).replace(',', '.') }} <small>/12 jam</small></h6>
                        </div>
                        <div class="mb-3">
                            <small class="text-muted">Dengan Driver</small>
                            <h6 class="text-success">Rp {{ "{:,}".format(mobil.harga_driver_dalam).replace(',', '.') }} <small>/hari</small></h6>
                        </div>
                        <a href="/mobil/{{ mobil.id }}" class="btn btn-primary-custom w-100">
                            <i class="fas fa-info-circle"></i> Lihat Detail
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<script>
// Filter katalog
document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        // Update active button
        document.querySelectorAll('.filter-btn').forEach(b => {
            b.classList.remove('btn-primary-custom');
            b.classList.add('btn-outline-primary');
        });
        this.classList.remove('btn-outline-primary');
        this.classList.add('btn-primary-custom');
        
        // Filter mobil
        const filter = this.getAttribute('data-filter');
        document.querySelectorAll('.mobil-item').forEach(item => {
            if (filter === 'all' || item.getAttribute('data-kategori') === filter) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });
    });
});
</script>
{% endblock %}